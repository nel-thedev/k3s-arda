apiVersion: v1
kind: ConfigMap
metadata:
  name: frigate-config-template
  namespace: cctv
data:
  config.yml.tpl: |
    mqtt: null

    detectors:
      cpu1:
        type: cpu

    cameras:
      birdfeeder:
        ffmpeg:
          inputs:
            - path: ${RTSP_URL}
              roles: [detect]
        detect:
          enabled: true
          width: 1280
          height: 720
        record:
          enabled: true
          retain:
            days: 2
            mode: motion
        snapshots:
          enabled: true
          timestamp: false
          retain:
            default: 1
        clips:
          enabled: true
          pre_capture: 5
          post_capture: 5
          retain:
            default: 0
